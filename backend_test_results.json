[
  {
    "test": "API Root",
    "success": true,
    "message": "API is accessible: ALT Ilhabela Portal API",
    "timestamp": "2025-10-06T16:40:02.065440",
    "response_data": null
  },
  {
    "test": "Admin Login",
    "success": true,
    "message": "Login successful for admin@alt-ilhabela.com with role admin",
    "timestamp": "2025-10-06T16:40:02.334049",
    "response_data": null
  },
  {
    "test": "Member Login",
    "success": true,
    "message": "Login successful for membro@alt-ilhabela.com with role membro",
    "timestamp": "2025-10-06T16:40:02.574518",
    "response_data": null
  },
  {
    "test": "Property Approval Flow - Create Property",
    "success": true,
    "message": "\u2705 Property created with 'pendente' status: Casa Teste Aprova\u00e7\u00e3o",
    "timestamp": "2025-10-06T16:40:02.586738",
    "response_data": null
  },
  {
    "test": "Admin Login",
    "success": true,
    "message": "Login successful for admin@alt-ilhabela.com with role admin",
    "timestamp": "2025-10-06T16:40:02.820675",
    "response_data": null
  },
  {
    "test": "Property Approval Flow - Check Pending",
    "success": true,
    "message": "\u2705 Test property found in pending list (5 total pending)",
    "timestamp": "2025-10-06T16:40:02.834537",
    "response_data": null
  },
  {
    "test": "Property Approval Flow - Approve Property",
    "success": true,
    "message": "\u2705 Property approved successfully: Im\u00f3vel aprovado com sucesso",
    "timestamp": "2025-10-06T16:40:03.394878",
    "response_data": null
  },
  {
    "test": "Property Approval Flow - Check Approved Listings",
    "success": true,
    "message": "\u2705 Approved property now appears in /api/imoveis endpoint (17 total approved)",
    "timestamp": "2025-10-06T16:40:03.405382",
    "response_data": null
  },
  {
    "test": "Member Login",
    "success": true,
    "message": "Login successful for membro@alt-ilhabela.com with role membro",
    "timestamp": "2025-10-06T16:40:03.643982",
    "response_data": null
  },
  {
    "test": "Property Listings - Meus Im\u00f3veis",
    "success": true,
    "message": "\u2705 Member properties endpoint working: 17 total (14 approved, 3 pending)",
    "timestamp": "2025-10-06T16:40:03.654967",
    "response_data": null
  },
  {
    "test": "Property Listings - Todos os Im\u00f3veis",
    "success": true,
    "message": "\u2705 All properties endpoint working: 17 approved properties only",
    "timestamp": "2025-10-06T16:40:03.665755",
    "response_data": null
  },
  {
    "test": "Property Listings - Cross-Endpoint Consistency",
    "success": true,
    "message": "\u2705 All approved member properties appear in both endpoints",
    "timestamp": "2025-10-06T16:40:03.665786",
    "response_data": null
  },
  {
    "test": "ObjectId Removal - /api/imoveis",
    "success": true,
    "message": "\u2705 No ObjectId found in /api/imoveis response (17 properties checked)",
    "timestamp": "2025-10-06T16:40:03.675052",
    "response_data": null
  },
  {
    "test": "Member Login",
    "success": true,
    "message": "Login successful for membro@alt-ilhabela.com with role membro",
    "timestamp": "2025-10-06T16:40:03.950758",
    "response_data": null
  },
  {
    "test": "ObjectId Removal - /api/meus-imoveis",
    "success": true,
    "message": "\u2705 No ObjectId found in /api/meus-imoveis response (17 properties checked)",
    "timestamp": "2025-10-06T16:40:03.960513",
    "response_data": null
  },
  {
    "test": "Admin Login",
    "success": true,
    "message": "Login successful for admin@alt-ilhabela.com with role admin",
    "timestamp": "2025-10-06T16:40:04.238003",
    "response_data": null
  },
  {
    "test": "ObjectId Removal - /api/admin/imoveis-pendentes",
    "success": true,
    "message": "\u2705 No ObjectId found in /api/admin/imoveis-pendentes response (4 properties checked)",
    "timestamp": "2025-10-06T16:40:04.249507",
    "response_data": null
  },
  {
    "test": "Admin Login",
    "success": true,
    "message": "Login successful for admin@alt-ilhabela.com with role admin",
    "timestamp": "2025-10-06T16:40:04.484871",
    "response_data": null
  },
  {
    "test": "Cross-Role Access - Admin to /api/imoveis",
    "success": true,
    "message": "\u2705 Admin can access regular property listings (17 properties)",
    "timestamp": "2025-10-06T16:40:04.495223",
    "response_data": null
  },
  {
    "test": "Cross-Role Access - Admin to /api/parceiros",
    "success": true,
    "message": "\u2705 Admin can access partner listings (1 partners)",
    "timestamp": "2025-10-06T16:40:04.505981",
    "response_data": null
  },
  {
    "test": "Im\u00f3veis API",
    "success": true,
    "message": "Endpoint working, returned 17 properties",
    "timestamp": "2025-10-06T16:40:04.519849",
    "response_data": {
      "count": 17,
      "sample": [
        {
          "id": "bc607a61-a4c9-4b88-8a87-77aa6f1b0449",
          "titulo": "Casa Teste Aprova\u00e7\u00e3o",
          "descricao": "Propriedade para testar fluxo de aprova\u00e7\u00e3o",
          "tipo": "casa",
          "regiao": "centro",
          "endereco_completo": "Rua da Aprova\u00e7\u00e3o, 123",
          "preco_diaria": 200.0,
          "preco_semanal": null,
          "preco_mensal": null,
          "num_quartos": 2,
          "num_banheiros": 1,
          "capacidade": 4,
          "area_m2": null,
          "possui_piscina": false,
          "possui_churrasqueira": false,
          "possui_wifi": true,
          "permite_pets": false,
          "tem_vista_mar": false,
          "tem_ar_condicionado": false,
          "fotos": [],
          "link_booking": null,
          "link_airbnb": null,
          "status_aprovacao": "aprovado",
          "ativo": true,
          "destaque": false,
          "proprietario_id": "51e79d47-4193-494c-98c0-a15c1b208266",
          "visualizacoes": 0,
          "cliques_link": 0,
          "created_at": "2025-10-06T16:40:02.581000",
          "updated_at": "2025-10-06T16:40:02.840000"
        },
        {
          "id": "d0c23481-7e06-4b22-b151-10dbd9c27ead",
          "titulo": "Casa Deployment Test",
          "descricao": "Updated description for deployment test",
          "tipo": "casa",
          "regiao": "centro",
          "endereco_completo": "Rua do Deploy, 123",
          "preco_diaria": 300.0,
          "preco_semanal": null,
          "preco_mensal": null,
          "num_quartos": 3,
          "num_banheiros": 2,
          "capacidade": 6,
          "area_m2": null,
          "possui_piscina": false,
          "possui_churrasqueira": false,
          "possui_wifi": true,
          "permite_pets": false,
          "tem_vista_mar": false,
          "tem_ar_condicionado": false,
          "fotos": [],
          "link_booking": null,
          "link_airbnb": null,
          "status_aprovacao": "aprovado",
          "ativo": true,
          "destaque": false,
          "proprietario_id": "51e79d47-4193-494c-98c0-a15c1b208266",
          "visualizacoes": 0,
          "cliques_link": 0,
          "created_at": "2025-10-03T13:31:49.179000",
          "updated_at": "2025-10-03T13:31:49.450000"
        }
      ]
    }
  },
  {
    "test": "Parceiros API",
    "success": true,
    "message": "Endpoint working, returned 1 partners",
    "timestamp": "2025-10-06T16:40:04.571026",
    "response_data": {
      "count": 1,
      "sample": [
        {
          "id": "6b740188-a59a-4270-bba2-af9c25928d1d",
          "user_id": "922e8e2a-a213-4e89-9885-2cba20cd607e",
          "nome_empresa": "Restaurante Mar\u00e9 Alta",
          "descricao": "Restaurante especializado em frutos do mar com vista para o mar",
          "categoria": "Restaurante",
          "telefone": "+55 12 99876-5432",
          "endereco": "Av. Beira Mar, 789 - Praia do Perequ\u00ea, Ilhabela/SP",
          "website": "https://marealta.com.br/",
          "instagram": "https://instagram.com/marealta",
          "facebook": null,
          "fotos": [],
          "video_url": null,
          "horario_funcionamento": "12:00 \u00e0s 22:00",
          "servicos": [
            "Almo\u00e7o",
            "Jantar",
            "Frutos do Mar",
            "Vista para o Mar"
          ],
          "preco_medio": "R$ 80-120",
          "aceita_cartao": true,
          "delivery": false,
          "destaque": true,
          "ativo": true,
          "created_at": "2025-09-26T15:42:31.190000",
          "updated_at": "2025-09-26T15:42:31.190000"
        }
      ]
    }
  },
  {
    "test": "Member Login",
    "success": true,
    "message": "Login successful for membro@alt-ilhabela.com with role membro",
    "timestamp": "2025-10-06T16:40:04.806593",
    "response_data": null
  },
  {
    "test": "Meus Im\u00f3veis API (Member)",
    "success": true,
    "message": "Member endpoint working, returned 17 properties",
    "timestamp": "2025-10-06T16:40:04.816664",
    "response_data": {
      "count": 17,
      "sample": [
        {
          "id": "bc607a61-a4c9-4b88-8a87-77aa6f1b0449",
          "titulo": "Casa Teste Aprova\u00e7\u00e3o",
          "descricao": "Propriedade para testar fluxo de aprova\u00e7\u00e3o",
          "tipo": "casa",
          "regiao": "centro",
          "endereco_completo": "Rua da Aprova\u00e7\u00e3o, 123",
          "preco_diaria": 200.0,
          "preco_semanal": null,
          "preco_mensal": null,
          "num_quartos": 2,
          "num_banheiros": 1,
          "capacidade": 4,
          "area_m2": null,
          "possui_piscina": false,
          "possui_churrasqueira": false,
          "possui_wifi": true,
          "permite_pets": false,
          "tem_vista_mar": false,
          "tem_ar_condicionado": false,
          "fotos": [],
          "link_booking": null,
          "link_airbnb": null,
          "status_aprovacao": "aprovado",
          "ativo": true,
          "destaque": false,
          "proprietario_id": "51e79d47-4193-494c-98c0-a15c1b208266",
          "visualizacoes": 0,
          "cliques_link": 0,
          "created_at": "2025-10-06T16:40:02.581000",
          "updated_at": "2025-10-06T16:40:02.840000"
        }
      ]
    }
  },
  {
    "test": "Property Creation with Empty URLs",
    "success": true,
    "message": "\u2705 Property created successfully with status 'pendente'. Empty URL fields converted to null as expected.",
    "timestamp": "2025-10-06T16:40:04.827653",
    "response_data": {
      "property_id": "aa1bc2ce-fb05-4c86-b87d-013556cf256a",
      "status_aprovacao": "pendente",
      "titulo": "Casa Teste Fotos",
      "link_booking": null,
      "link_airbnb": null,
      "fotos": []
    }
  },
  {
    "test": "Property Details Loading",
    "success": true,
    "message": "\u2705 Property details loaded successfully. ObjectId properly removed. Property: Casa Teste Aprova\u00e7\u00e3o",
    "timestamp": "2025-10-06T16:40:04.889558",
    "response_data": {
      "property_id": "bc607a61-a4c9-4b88-8a87-77aa6f1b0449",
      "titulo": "Casa Teste Aprova\u00e7\u00e3o",
      "has_mongodb_id": false,
      "visualizacoes": 0
    }
  },
  {
    "test": "Property Owner Information",
    "success": true,
    "message": "\u2705 Property owner information retrieved successfully. Owner: Jo\u00e3o Silva (Role: membro)",
    "timestamp": "2025-10-06T16:40:04.962850",
    "response_data": {
      "property_id": "bc607a61-a4c9-4b88-8a87-77aa6f1b0449",
      "owner_name": "Jo\u00e3o Silva",
      "owner_role": "membro",
      "owner_id": "51e79d47-4193-494c-98c0-a15c1b208266",
      "security_check": "No sensitive data exposed"
    }
  },
  {
    "test": "Admin Login",
    "success": true,
    "message": "Login successful for admin@alt-ilhabela.com with role admin",
    "timestamp": "2025-10-06T16:40:05.198157",
    "response_data": null
  },
  {
    "test": "Get Pending Properties",
    "success": true,
    "message": "Found 5 pending properties for approval",
    "timestamp": "2025-10-06T16:40:05.211707",
    "response_data": {
      "count": 5,
      "properties": [
        {
          "id": "a992d306-8858-4074-8362-795b29a532a0",
          "titulo": "Casa com Sistema de Fotos Completo"
        },
        {
          "id": "5632d21a-d31b-4deb-b359-d27f57ffc201",
          "titulo": "Casa Teste Fotos"
        },
        {
          "id": "cde1b87c-1b65-44fc-8b10-38b3a4962b2e",
          "titulo": "Casa Teste Fotos"
        }
      ]
    }
  },
  {
    "test": "Password Recovery - Valid Email",
    "success": true,
    "message": "\u2705 Password recovery request processed correctly: Se o email estiver cadastrado, voc\u00ea receber\u00e1 instru\u00e7\u00f5es de recupera\u00e7\u00e3o",
    "timestamp": "2025-10-06T16:40:06.479015",
    "response_data": {
      "response": {
        "message": "Se o email estiver cadastrado, voc\u00ea receber\u00e1 instru\u00e7\u00f5es de recupera\u00e7\u00e3o"
      },
      "email_tested": "membro@alt-ilhabela.com"
    }
  },
  {
    "test": "Password Recovery - Invalid Email Security",
    "success": true,
    "message": "\u2705 Security check passed: Same response for invalid email (doesn't reveal if email exists)",
    "timestamp": "2025-10-06T16:40:06.489424",
    "response_data": {
      "response": {
        "message": "Se o email estiver cadastrado, voc\u00ea receber\u00e1 instru\u00e7\u00f5es de recupera\u00e7\u00e3o"
      },
      "email_tested": "nonexistent@alt-ilhabela.com"
    }
  },
  {
    "test": "Password Recovery - Missing Email",
    "success": true,
    "message": "\u2705 Correctly rejected request with missing email: Email \u00e9 obrigat\u00f3rio",
    "timestamp": "2025-10-06T16:40:06.496814",
    "response_data": {
      "response": {
        "detail": "Email \u00e9 obrigat\u00f3rio"
      }
    }
  },
  {
    "test": "Password Recovery - Baseline Login",
    "success": false,
    "message": "Cannot establish baseline - member login failed: {\"detail\":\"Email ou senha incorretos\"}",
    "timestamp": "2025-10-06T16:40:06.773975",
    "response_data": null
  },
  {
    "test": "Admin Login",
    "success": true,
    "message": "Login successful for admin@alt-ilhabela.com with role admin",
    "timestamp": "2025-10-06T16:40:07.009185",
    "response_data": null
  },
  {
    "test": "Admin Login",
    "success": true,
    "message": "Login successful for admin@alt-ilhabela.com with role admin",
    "timestamp": "2025-10-06T16:40:07.244534",
    "response_data": null
  },
  {
    "test": "User Deletion - Admin Self-Deletion Prevention",
    "success": false,
    "message": "\u274c SECURITY ISSUE: Admin self-deletion was allowed - Status 200: {\"message\":\"Usu\u00e1rio desativado com sucesso\"}",
    "timestamp": "2025-10-06T16:40:07.306398",
    "response_data": null
  },
  {
    "test": "Admin Login",
    "success": false,
    "message": "Login failed with status 401: {\"detail\":\"Conta desativada\"}",
    "timestamp": "2025-10-06T16:40:07.544032",
    "response_data": null
  },
  {
    "test": "User Deletion - Admin Login for Invalid ID Test",
    "success": false,
    "message": "Failed to login as admin",
    "timestamp": "2025-10-06T16:40:07.544064",
    "response_data": null
  },
  {
    "test": "Member Login",
    "success": false,
    "message": "Login failed with status 401: {\"detail\":\"Email ou senha incorretos\"}",
    "timestamp": "2025-10-06T16:40:07.780046",
    "response_data": null
  },
  {
    "test": "User Deletion - Member Login",
    "success": false,
    "message": "Failed to login as member for unauthorized access testing",
    "timestamp": "2025-10-06T16:40:07.780080",
    "response_data": null
  },
  {
    "test": "Email System Integration",
    "success": true,
    "message": "\u2705 Email system integration working - Password recovery processed successfully. Check backend logs for SMTP connection and email sending confirmation.",
    "timestamp": "2025-10-06T16:40:08.481926",
    "response_data": {
      "response": {
        "message": "Se o email estiver cadastrado, voc\u00ea receber\u00e1 instru\u00e7\u00f5es de recupera\u00e7\u00e3o"
      },
      "email_config_note": "SMTP configured: smtp.gmail.com:587 with TLS",
      "email_user": "ilhabelaalt@gmail.com",
      "test_email": "membro@alt-ilhabela.com"
    }
  }
]